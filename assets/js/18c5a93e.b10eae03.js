"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[730],{6484(e,t,a){a.r(t),a.d(t,{default:()=>d});var n=a(6540),s=a(9408);const r="searchContainer_ayxD",l="inputContainer_w3vE",o="searchInput_QR_5",c="errorContainer_mzs4",i="resultsContainer_yJlm",u="answerText_xg0a",h="sourcesContainer_WZy4",m="sourceChunk_vwYk";function d(){const[e,t]=(0,n.useState)(""),[a,d]=(0,n.useState)(null),[p,k]=(0,n.useState)(!1),[E,b]=(0,n.useState)(null),y=async()=>{if(e){k(!0),b(null),d(null);try{const t=await fetch("http://127.0.0.1:8000/rag/query",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e,top_k:3})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const a=await t.json();d(a)}catch(t){b(`Failed to fetch search results: ${t.message}`)}finally{k(!1)}}};return n.createElement(s.A,{title:"Search",description:"Search the textbook content"},n.createElement("div",{className:r},n.createElement("h1",null,"Ask a question about the textbook"),n.createElement("div",{className:l},n.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),onKeyPress:e=>"Enter"===e.key&&y(),className:o,placeholder:"What is Visual SLAM?"}),n.createElement("button",{onClick:y,className:"button button--primary",disabled:p},p?"Searching...":"Search")),E&&n.createElement("div",{className:c},E),a&&n.createElement("div",{className:i},n.createElement("h2",null,"Answer"),n.createElement("p",{className:u},a.response),n.createElement("h3",null,"Sources"),n.createElement("div",{className:h},a.retrieved_chunks.map((e,t)=>n.createElement("div",{key:t,className:m},n.createElement("p",null,e)))))))}}}]);
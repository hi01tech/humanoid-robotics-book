"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[117],{5017(e,n,r){r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var t=r(8168),i=(r(6540),r(5680));const o={id:"week4",title:"Module 1: ROS 2 Concepts",sidebar_label:"Week 4: Core Concepts"},s=void 0,l={unversionedId:"ros2/week4",id:"ros2/week4",title:"Module 1: ROS 2 Concepts",description:"Week 4: Diving into ROS 2 Core Concepts",source:"@site/docs/ros2/week4.md",sourceDirName:"ros2",slug:"/ros2/week4",permalink:"/humanoid-robotics-book/docs/ros2/week4",draft:!1,tags:[],version:"current",frontMatter:{id:"week4",title:"Module 1: ROS 2 Concepts",sidebar_label:"Week 4: Core Concepts"},sidebar:"tutorialSidebar",previous:{title:"Module 1: ROS 2",permalink:"/humanoid-robotics-book/docs/ros2-module"},next:{title:"Week 5: Services & Actions",permalink:"/humanoid-robotics-book/docs/ros2/week5"}},a={},p=[{value:"Week 4: Diving into ROS 2 Core Concepts",id:"week-4-diving-into-ros-2-core-concepts",level:2},{value:"ROS 2 Nodes",id:"ros-2-nodes",level:3},{value:"ROS 2 Topics",id:"ros-2-topics",level:3},{value:"Running the Example",id:"running-the-example",level:3}],c={toc:p};function u({components:e,...n}){return(0,i.yg)("wrapper",(0,t.A)({},c,n,{components:e,mdxType:"MDXLayout"}),(0,i.yg)("h2",{id:"week-4-diving-into-ros-2-core-concepts"},"Week 4: Diving into ROS 2 Core Concepts"),(0,i.yg)("p",null,"This week, we will explore the fundamental concepts of ROS 2 that form the backbone of any robotics application. We will cover Nodes, Topics, Services, and Actions."),(0,i.yg)("h3",{id:"ros-2-nodes"},"ROS 2 Nodes"),(0,i.yg)("p",null,"A ROS 2 node is an executable that performs a specific task. In a complex robotics system, you'll have many nodes, each responsible for a small part of the overall functionality. For example, you might have one node for controlling the wheel motors, another for reading laser scan data, and another for path planning."),(0,i.yg)("p",null,"Here is a simple example of a ROS 2 node written in Python. This node, ",(0,i.yg)("inlineCode",{parentName:"p"},"simple_publisher"),", creates a publisher that sends string messages on a topic named ",(0,i.yg)("inlineCode",{parentName:"p"},"chatter"),"."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"# simple_publisher.py\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SimplePublisher(Node):\n    def __init__(self):\n        super().__init__('simple_publisher')\n        self.publisher_ = self.create_publisher(String, 'chatter', 10)\n        self.timer = self.create_timer(0.5, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = f'Hello from ROS 2: {self.i}'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f'Publishing: \"{msg.data}\"')\n        self.i += 1\n\ndef main(args=None):\n    rclpy.init(args=args)\n    simple_publisher = SimplePublisher()\n    rclpy.spin(simple_publisher)\n    simple_publisher.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n")),(0,i.yg)("h3",{id:"ros-2-topics"},"ROS 2 Topics"),(0,i.yg)("p",null,"Topics are named buses over which nodes exchange messages. A node can publish messages to a topic (a publisher) or subscribe to a topic to receive messages (a subscriber). This provides a decoupled way for different parts of your system to communicate."),(0,i.yg)("p",null,"Here's a subscriber node that listens to the ",(0,i.yg)("inlineCode",{parentName:"p"},"chatter")," topic from our ",(0,i.yg)("inlineCode",{parentName:"p"},"simple_publisher")," example."),(0,i.yg)("pre",null,(0,i.yg)("code",{parentName:"pre",className:"language-python"},"# simple_subscriber.py\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass SimpleSubscriber(Node):\n    def __init__(self):\n        super().__init__('simple_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'chatter',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info(f'I heard: \"{msg.data}\"')\n\ndef main(args=None):\n    rclpy.init(args=args)\n    simple_subscriber = SimpleSubscriber()\n    rclpy.spin(simple_subscriber)\n    simple_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n")),(0,i.yg)("h3",{id:"running-the-example"},"Running the Example"),(0,i.yg)("p",null,"To run this publisher/subscriber example:"),(0,i.yg)("ol",null,(0,i.yg)("li",{parentName:"ol"},"Save the code for the publisher as ",(0,i.yg)("inlineCode",{parentName:"li"},"simple_publisher.py")," and the subscriber as ",(0,i.yg)("inlineCode",{parentName:"li"},"simple_subscriber.py"),"."),(0,i.yg)("li",{parentName:"ol"},"Source your ROS 2 Iron setup file: ",(0,i.yg)("inlineCode",{parentName:"li"},"source /opt/ros/iron/setup.bash")),(0,i.yg)("li",{parentName:"ol"},"In one terminal, run the publisher: ",(0,i.yg)("inlineCode",{parentName:"li"},"python3 simple_publisher.py")),(0,i.yg)("li",{parentName:"ol"},"In another terminal, run the subscriber: ",(0,i.yg)("inlineCode",{parentName:"li"},"python3 simple_subscriber.py"))),(0,i.yg)("p",null,"You will see the publisher sending messages and the subscriber receiving them. This simple example demonstrates the core power of ROS 2's topic-based communication."))}u.isMDXComponent=!0},5680(e,n,r){r.d(n,{xA:()=>c,yg:()=>d});var t=r(6540);function i(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function s(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?o(Object(r),!0).forEach(function(n){i(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},o=Object.keys(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var a=t.createContext({}),p=function(e){var n=t.useContext(a),r=n;return e&&(r="function"==typeof e?e(n):s(s({},n),e)),r},c=function(e){var n=p(e.components);return t.createElement(a.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},m=t.forwardRef(function(e,n){var r=e.components,i=e.mdxType,o=e.originalType,a=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(r),d=i,b=m["".concat(a,".").concat(d)]||m[d]||u[d]||o;return r?t.createElement(b,s(s({ref:n},c),{},{components:r})):t.createElement(b,s({ref:n},c))});function d(e,n){var r=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=r.length,s=new Array(o);s[0]=m;var l={};for(var a in n)hasOwnProperty.call(n,a)&&(l[a]=n[a]);l.originalType=e,l.mdxType="string"==typeof e?e:i,s[1]=l;for(var p=2;p<o;p++)s[p]=r[p];return t.createElement.apply(null,s)}return t.createElement.apply(null,r)}m.displayName="MDXCreateElement"}}]);